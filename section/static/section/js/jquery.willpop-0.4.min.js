!function(o){o.fn.addCenterPop=function(i){function e(){var i='<style class="jquery-pop">      body {margin:0;}      .pop-overlay {          background-color:'+r.overlayColorFallback+";          background-color:"+r.overlayColor+";          position: fixed;          top:0;          left:0;          width: 100%;          height: 100%;          z-index: 99;          display: none;      }      .pop-container {          position: relative;          background-color:"+r.containerColorFallback+";          background-color:"+r.containerColor+";          top: 50%;          left:50%;          width: "+r.popWidth+"px;          margin-left: -"+r.popWidth/2+"px;          overflow-x: hidden;          color:"+r.textColor+";          text-align: center;          font-family:"+r.fontFamilies+";      }      .pop {          width: 90%;          height:100%;          margin: 0 auto;      }      @media screen and (max-width: "+(r.popWidth+s)+"px) {        .pop-overlay {background-color: none;}        .pop-container {            background-color:"+r.mobileColorFallback+";            background-color:"+r.mobileColor+";            top: 0;            left:0;            width: 100%;            height: 100%;            margin-top: 0;            margin-left: 0;        .pop-container {          overflow-y: hidden;          height: inherit;          margin-top: 0;        }      }</style>"
o("head").append(i)}function a(){c.show()
var i,e,a=c.find(".pop").height(),n=o(window).height()
c.hide(),a>n?(i=n,e="overlay"):400>a?(i=400,e="hidden"):(i=a,e="hidden"),o("head style.jquery-pop").before('<style class="jquery-pop-height">          .pop-container {            overflow-y: '+e+";            height: "+i+"px;            margin-top: -"+i/2+"px;          }        </style>")}function n(){o("head style.jquery-pop-height").remove()}function l(){a(),r.onOpen&&r.onOpen(this),c.fadeIn("fast")}function t(){c.fadeOut("fast",function(){n(),r.onClose&&r.onClose(this)})}var r=o.extend({overlayColorFallback:"rgb(100,100,100)",overlayColor:"rgba(0,0,0,0.5)",containerColorFallback:"rgb(30,30,30)",containerColor:"rgba(0,0,0,0.9)",mobileColorFallback:"rgb(70,70,70)",mobileColor:"rgba(0,0,0,0.7)",textColor:"white",fontFamilies:"sans-serif",popWidth:400,innerClickClose:!1,onOpen:null,onClose:null},i||{})
const s=100
var c=o('<div class="pop-overlay"><div class="pop-container"><div class="pop">')
return o("body").append(c),e(),this.click(l),c.click(t),r.innerClickClose||c.find(".pop-container").click(function(i){o(document).width()>r.popWidth+s&&i.stopPropagation()}),c.find(".pop")},o.fn.showCenteredMessage=function(i,e){function a(){p.callback&&p.callback()}function n(){var o
return o=p.className?'<div class="'+p.className+'">'+i+"</div>":"<div>"+i+"</div>"}var l,t,r,s,c=5,d=this.width(),p=o.extend({backColorFallback:"rgb(30,30,30)",backColor:"rgba(0,0,0,0.5)",textColor:"white",fontFamilies:"sans-serif",fadeWait:"1000",fadeSpeed:"slow",className:null,fadeOut:!0,callback:null},e||{})
return l=o(n()).css({"background-color":p.backColor,color:p.textColor,"font-family":p.fontFamilies,"text-align":"center","border-radius":"20px",position:"absolute",padding:c+"px","min-width":"100px","max-width":d-4*c+"px"}),this.append(l),r=l.width(),t=l.height(),s={"margin-top":"-"+t/2+"px",top:"50%",left:"50%"},r>=d?(s["margin-left"]="0",s.width=d+"px"):s["margin-left"]="-"+(r/2+c)+"px",l.css(s).hide().fadeIn(p.fadeSpeed,function(){p.fadeOut?window.setTimeout(function(){l.fadeOut(p.fadeSpeed,function(){a(),l.remove()})},p.fadeWait):a()}),this},o.fn.addContactPop=function(i){function e(){var i=""
if(b.emailUrl&&(i+='<form class="email-form">',b.emailMsg&&(i+=' <p class="email-label">'+b.emailMsg+"</p>"),i+='<input type="test" name="email-from" id="email-from" placeholder="Your email address"/><textarea name="email" id="email"></textarea><input class="email-submit" type="submit" value="Submit"/></form>'),b.socialUrls){i+='<div class="icon-container">',b.socialMsg&&(i+="<p>"+b.socialMsg+"</p>"),i+='<div class="icons">'
for(var e in b.socialUrls){var a,n,l=e
o.isArray(b.socialUrls[e])?(a=b.socialUrls[e][0],n=b.socialUrls[e][1]):(a=b.socialUrls[e],n=l),i+='            <a class="icon" href="'+a+'" target="_blank">              <img src="'+b.socialDir+n+'.png" title="'+l+'">            </a>'}i+="</div></div>"}return i}function a(){var i='<style class="jquery-contact">        .pop a {text-decoration: none;}        .pop {font-size: 1.2em;}        /* email form */        .pop form {padding: 10px 0;}        .pop #email-from {          width: 100%;          font-size: 0.9em;        }        .pop .contact-warning {          background-color: '+b.warningColor+";        }        .pop .email-label {          padding: 10px 0;          margin: 0;        }        .pop textarea {          width: 100%;          max-width: 100%;          margin: 5px 0;          padding: 5px;          border:0;          height: 200px;          resize: none;          font-family: sans-serif;          font-size: 0.8em;          /* make padding internal */          -webkit-box-sizing: border-box;          -moz-box-sizing: border-box;          box-sizing: border-box;        }        .pop .submit {padding: 8px;}        .pop input {          border: 0;          padding: 3px;          margin: 5px auto;          display: block;          width: 100%;          font-size: 1.1em;          /* make padding internal */          -webkit-box-sizing: border-box;          -moz-box-sizing: border-box;          box-sizing: border-box;        }        /* Socail Media */        .pop .icon-container {          width: 100%;          padding-bottom: 10px;          text-align: center;        }        .pop .icons {          text-align: center;          width:100%;        }        .pop .icon {          display: inline-block;          zoom: 1;          *display: inline;          position: relative;          width:23%;          max-width:32px;          padding: 0 1%;        }        </style>"
o("head").append(i)}function n(o){o&&(f.find(o).addClass("contact-warning"),t("Please complete the email before sending."))}function l(o){f.find(o).removeClass("contact-warning")}function t(o,i){f.showCenteredMessage(o,{callback:i})}function r(){var o,i="",e="",a=!0
return o=f.find("#email-from").val(),o.match(/.+@.+\..+/)?e="#email-from":(i="#email-from",a=!1),""===f.find("#email").val()?(""!==i&&(i+=", "),i+="#email",a=!1):(""!==e&&(e+=", "),e+="#email"),n(i),l(e),a}function s(){b.testMode?(console.log("Url: "+b.emailUrl),console.log(f.find(".email-form").serialize()),t("Email sent!",m)):o.post(b.emailUrl,f.find(".email-form").serialize(),function(o){o.sent?t("Email sent!",m):(r(),t(o.message?o.message:"A server error occured. Please try again."))},"json")}function c(){o(this).stop().animate({width:"40px"},"fast")}function d(){o(this).stop().animate({width:"32px"},"fast")}function p(o){o.preventDefault(),r()&&s()}function m(){var o="#email-from, #email"
f.find(o).val(""),l(o)}var f,b=o.extend({emailUrl:null,emailMsg:null,warningColor:"#B20000",socialUrls:{},socialDefaultIcon:"link",socialAnimate:!0,socialMsg:null,socialDir:"",testMode:!1,overlayColorFallback:"rgb(100,100,100)",overlayColor:"rgba(0,0,0,0.5)",containerColorFallback:"rgb(30,30,30)",containerColor:"rgba(0,0,0,0.9)",mobileColorFallback:"rgb(70,70,70)",mobileColor:"rgba(0,0,0,0.7)",textColor:"white",fontFamilies:"sans-serif"},i||{})
return f=o("#contact").addCenterPop({overlayColorFallback:b.overlayColorFallback,overlayColor:b.overlayColor,containerColorFallback:b.containerColorFallback,containerColor:b.containerColor,mobileColorFallback:b.mobileColorFallback,mobileColor:b.mobileColor,textColor:b.textColor,fontFamilies:b.fontFamilies}),f.append(e()),a(),f.find("form").submit(p),b.socialAnimate&&f.find(".icon img").hover(c,d),this}}(jQuery)
